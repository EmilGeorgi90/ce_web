<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/css?family=Lato:400,700"
      rel="stylesheet"
      type="text/css"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
      crossorigin="anonymous"
    ></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <title>Document</title>
  </head>
  <body>
    <div id="form-page" style="display: flex; justify-content: space-around">
      <div style="display: flex">
        <div class="container" style="width: 500px; height: 567px">
          <div class="row d-flex justify-content-center" style="height: 100%">
            <div>
              <form
                class="needs-validation"
                id="regForm"
                style="display: flex; flex-direction: column; height: 100%"
                novalidate
              >
                <div class="form-header mb-3">
                  <a
                    id="prevBtn"
                    class="text-decoration-none"
                    style="color: #266ed3"
                    href="#"
                    onclick="nextPrev(-1)"
                  >
                    <i
                      class="bi bi-arrow-left"
                      style="color: #0d6efd; vertical-align: middle"
                    ></i>
                    <span
                      id="prevBtnText"
                      style="color: #0d6efd; vertical-align: middle"
                    ></span>
                  </a>
                  <div class="all-steps" id="all-steps">
                    <span class="index">1</span>
                    <span class="index">2</span>
                    <span class="index">3</span>
                  </div>
                </div>
                <div class="form-tab">
                  <p class="form-title">Tell us about the intervention</p>
                  <p class="form-text-custom">some text</p>
                  <div class="mb-3">
                    <div class="form-label">
                      <label for="ProjectName">Project name</label>
                      <button
                        onclick="openKnowledgeBase('https://ensomhedital.webflow.io/knowledge')"
                        tabindex="-1"
                        class="btn"
                        type="button"
                        data-bs-toggle="tooltip"
                        data-bs-placement="top"
                        data-bs-title="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi erat mauris, egestas non pharetra et, scelerisque sed purus. Nulla facilisi. Nulla justo tellus, suscipit sit amet vestibulum a, blandit nec magna. Sed in mattis mi. In hac habitasse platea dictumst. Aenean pretium, ante nec facilisis pharetra, velit tortor feugiat ex, a dapibus urna ex vitae tellus. Suspendisse potenti. Fusce nec euismod arcu, id tempus dolor. Interdum et malesuada fames ac ante ipsum primis in faucibus. Nulla egestas sapien mauris, in vehicula lorem dapibus quis. Fusce malesuada porttitor orci, nec tempus sem pharetra quis. Interdum et malesuada fames ac ante ipsum primis in faucibus. Donec sed magna arcu. Nulla rhoncus diam ac aliquet luctus. Nullam nec ornare eros, ut vulputate mauris."
                        data-bs-custom-class="custom-tooltip"
                      >
                        <i class="bi bi-info-circle"></i>
                      </button>
                    </div>
                    <input
                      type="text"
                      class="form-control"
                      id="ProjectName"
                      placeholder="Project name"
                    />
                  </div>
                  <div class="mb-3">
                    <div class="form-label">
                      <label for="InterventionType">Intervention Type</label>
                      <button
                        tabindex="-1"
                        class="btn"
                        type="button"
                        data-bs-toggle="tooltip"
                        data-bs-placement="top"
                        data-bs-title="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi erat mauris, egestas non pharetra et, scelerisque sed purus. Nulla facilisi. Nulla justo tellus, suscipit sit amet vestibulum a, blandit nec magna. Sed in mattis mi. In hac habitasse platea dictumst. Aenean pretium, ante nec facilisis pharetra, velit tortor feugiat ex, a dapibus urna ex vitae tellus. Suspendisse potenti. Fusce nec euismod arcu, id tempus dolor. Interdum et malesuada fames ac ante ipsum primis in faucibus. Nulla egestas sapien mauris, in vehicula lorem dapibus quis. Fusce malesuada porttitor orci, nec tempus sem pharetra quis. Interdum et malesuada fames ac ante ipsum primis in faucibus. Donec sed magna arcu. Nulla rhoncus diam ac aliquet luctus. Nullam nec ornare eros, ut vulputate mauris."
                        data-bs-custom-class="custom-tooltip"
                      >
                        <i class="bi bi-info-circle"></i>
                      </button>
                    </div>
                    <select
                      class="form-select"
                      id="InterventionType"
                      aria-label="Intervention Type"
                    >
                      <option selected></option>
                      <option value="1">Social network</option>
                      <option value="2">Social support</option>
                      <option value="3">
                        Social and emotional skills training
                      </option>
                      <option value="4">Psychological treatment</option>
                      <option value="5">Unspecified</option>
                      <option value="6">Own specification</option>
                    </select>
                  </div>
                  <div class="">
                    <div class="form-label">
                      <label for="TargetAudience">Target audience</label>
                      <button
                        tabindex="-1"
                        class="btn"
                        type="button"
                        data-bs-toggle="tooltip"
                        data-bs-placement="top"
                        data-bs-title="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi erat mauris, egestas non pharetra et, scelerisque sed purus. Nulla facilisi. Nulla justo tellus, suscipit sit amet vestibulum a, blandit nec magna. Sed in mattis mi. In hac habitasse platea dictumst. Aenean pretium, ante nec facilisis pharetra, velit tortor feugiat ex, a dapibus urna ex vitae tellus. Suspendisse potenti. Fusce nec euismod arcu, id tempus dolor. Interdum et malesuada fames ac ante ipsum primis in faucibus. Nulla egestas sapien mauris, in vehicula lorem dapibus quis. Fusce malesuada porttitor orci, nec tempus sem pharetra quis. Interdum et malesuada fames ac ante ipsum primis in faucibus. Donec sed magna arcu. Nulla rhoncus diam ac aliquet luctus. Nullam nec ornare eros, ut vulputate mauris."
                        data-bs-custom-class="custom-tooltip"
                      >
                        <i class="bi bi-info-circle"></i>
                      </button>
                    </div>
                    <select
                      class="form-select"
                      id="TargetAudience"
                      aria-label="Target audience"
                    >
                      <option selected></option>
                      <option value="1">General Population</option>
                      <option value="2">Youth 0-15</option>
                      <option value="3">Working age16-64</option>
                      <option value="4">Population 65+</option>
                    </select>
                  </div>
                </div>
                <div class="form-tab">
                  <p class="form-title">Tell us about participants and costs</p>
                  <p class="form-text-custom">some text</p>
                  <div class="mb-3">
                    <div class="form-label">
                      <label for="NumberOfParticipants"
                        >Number of participants</label
                      >
                      <button
                        tabindex="-1"
                        class="btn"
                        type="button"
                        data-bs-toggle="tooltip"
                        data-bs-placement="top"
                        data-bs-title="Insert tooltip"
                        data-bs-custom-class="custom-tooltip"
                      >
                        <i class="bi bi-info-circle"></i>
                      </button>
                    </div>

                    <input
                      type="number"
                      min="1"
                      class="form-control"
                      id="NumberOfParticipants"
                      placeholder="Number of participants"
                    />
                  </div>
                  <div class="mb-3">
                    <div class="form-label">
                      <label for="Total-cost-of-intervention"
                        >Total cost of intervention (DKK)</label
                      >
                      <button
                        tabindex="-1"
                        class="btn"
                        type="button"
                        data-bs-toggle="tooltip"
                        data-bs-placement="top"
                        data-bs-title="Insert tooltip"
                        data-bs-custom-class="custom-tooltip"
                      >
                        <i class="bi bi-info-circle"></i>
                      </button>
                    </div>
                    <input
                      type="number"
                      min="1"
                      class="form-control"
                      id="Total-cost-of-intervention"
                      placeholder="Total cost of intervention (DKK)"
                    />
                  </div>
                </div>
                <div class="form-tab">
                  <p class="form-title">
                    Do you know the expected or actual impact of your loneliness
                    intervention?
                  </p>
                  <p class="form-text-custom">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed
                    do eiusmod tempor incididunt ut labore et dolore magna
                    aliqua.
                  </p>
                  <div class="mb-3">
                    <div class="form-label">
                      <label for="EffectSize">Effect size (UCLA-3 scale)</label>
                      <button
                        tabindex="-1"
                        class="btn"
                        type="button"
                        data-bs-toggle="tooltip"
                        data-bs-placement="top"
                        data-bs-title="Insert tooltip"
                        data-bs-custom-class="custom-tooltip"
                      >
                        <i class="bi bi-info-circle"></i>
                      </button>
                    </div>
                    <input
                      type="number"
                      min="0.01"
                      step="0.01"
                      class="form-control"
                      id="EffectSize"
                      placeholder="Effect size (UCLA-3 scale)"
                      value="0.01"
                      onchange="validate()"
                    />
                    <div class="invalid-feedback" id="EffectSize-invalid">
                      værdien kan ikke være højere end 3
                    </div>
                  </div>
                </div>
                <div class="form-tab">
                  <p class="form-title">Here are the results!</p>
                  <p class="form-text-custom">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed
                    do eiusmod tempor incididunt ut labore et dolore magna
                    aliqua.
                  </p>
                  <div class="mb-3">
                    <div class="form-label">
                      <label for="OrganisationName">Organisation name</label>
                      <button
                        tabindex="-1"
                        class="btn"
                        type="button"
                        data-bs-toggle="tooltip"
                        data-bs-placement="top"
                        data-bs-title="Insert tooltip"
                        data-bs-custom-class="custom-tooltip"
                      >
                        <i class="bi bi-info-circle"></i>
                      </button>
                    </div>
                    <input
                      type="text"
                      class="form-control"
                      id="OrganisationName"
                      placeholder="Organisation name"
                    />
                  </div>
                  <div class="mb-3">
                    <div class="form-label">
                      <label for="OrganisationType">Organisation type</label>
                      <button
                        tabindex="-1"
                        class="btn"
                        type="button"
                        data-bs-toggle="tooltip"
                        data-bs-placement="top"
                        data-bs-title="Insert tooltip"
                        data-bs-custom-class="custom-tooltip"
                      >
                        <i class="bi bi-info-circle"></i>
                      </button>
                    </div>
                    <select
                      class="form-select mb-3"
                      id="OrganisationType"
                      aria-label="Organisation type"
                    >
                      <option selected></option>
                      <option value="1">Kommune</option>
                      <option value="2">Region</option>
                      <option value="3">Statslig institution</option>
                      <option value="4">Social indsats</option>
                    </select>
                    <div class="mb-3">
                      <div class="form-label">
                        <label for="Email">Email addresse</label>
                        <button
                          tabindex="-1"
                          class="btn"
                          type="button"
                          data-bs-toggle="tooltip"
                          data-bs-placement="top"
                          data-bs-title="Insert tooltip"
                          data-bs-custom-class="custom-tooltip"
                        >
                          <i class="bi bi-info-circle"></i>
                        </button>
                      </div>
                      <input
                        type="email"
                        class="form-control"
                        id="Email"
                        placeholder="name@example.com"
                      />
                    </div>
                  </div>
                </div>
                <div style="display: flex; margin-top: auto" id="buttons">
                  <button
                    type="button"
                    style="
                      border: 1px solid #528de0;
                      color: #528de0;
                      margin-right: 16px;
                    "
                    class="button hidden btn"
                    id="idkBtn"
                    onclick="nextPrev(1)"
                  >
                    I don't know it
                  </button>
                  <button
                    type="button"
                    id="nextBtn"
                    class="button btn"
                    style="background: #266ed3; color: #ffffff"
                    onclick="nextPrev(1)"
                  ></button>
                </div>
                <div id="message" class="hidden">
                  <p class="form-title">Check your inbox!</p>
                  <p class="form-text">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed
                    do eiusmod tempor incididunt ut labore et dolore magna
                    aliqua. Lorem ipsum dolor sit amet, consectetur adipiscing
                    elit, sed do eiusmod tempor incididunt ut labore et dolore
                    magna aliqua. Lorem ipsum dolor sit amet, consectetur
                    adipiscing elit, sed do eiusmod tempor incididunt ut labore
                    et dolore magna aliqua.
                  </p>
                  <button
                    id="goback"
                    class="btn btn-primary button"
                    style="
                      padding: 12px 32px;
                      width: 460px;
                      height: 43px;
                      background: #266ed3;
                      box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.25);
                      border-radius: 100px;
                      line-height: 19px;
                    "
                  >
                    Back to the website
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
      <!-- <img
        src="./Group 257.png"
        id="template"
        class="hidden"
        style="max-height: 700px"
      /> -->
    </div>
    <script>
      function validate() {
        const value = document.getElementById("EffectSize").value;
        if (value > 3) {
          document.getElementById("buttons").style.display = "none";
          document.getElementById("EffectSize-invalid").style.display = "block";
        } else {
          document.getElementById("buttons").style.display = "flex";
          document.getElementById("EffectSize-invalid").style.display = "none";
        }
      }
    </script>
    <script>
      const tooltipTriggerList = document.querySelectorAll(
        '[data-bs-toggle="tooltip"]'
      );
      const tooltipList = [...tooltipTriggerList].map(
        (tooltipTriggerEl) => new bootstrap.Tooltip(tooltipTriggerEl)
      );
      function openKnowledgeBase(url) {
        window.open(url, "_blank");
      }
    </script>
    <script>
      const url =
        "https://localhost:61650/api/report?";
      var currentTab = 0;
      function showTab(e) {
        var t = document.getElementsByClassName("form-tab");
        (t[e].style.display = "block"),
          0 == e
            ? (document.getElementById("prevBtnText").innerText = "Exit")
            : (document.getElementById("prevBtnText").innerText = "Tilbage"),
          e == t.length - 1
            ? (document.getElementById("nextBtn").innerHTML = "Submit")
            : (document.getElementById("nextBtn").innerHTML = "N\xe6ste"),
          fixStepIndicator(e);
      }
      function submit(form) {
        const projectName = document.getElementById("ProjectName");
        const interventionType = document.getElementById("InterventionType");
        const numberOfParticipants = document.getElementById(
          "NumberOfParticipants"
        );
        const totalCostOfIntervention = document.getElementById(
          "Total-cost-of-intervention"
        );
        const effectSize = document.getElementById("EffectSize");
        const organisationName = document.getElementById("OrganisationName");
        const organisationType = document.getElementById("OrganisationType");
        const email = document.getElementById("Email");
        const request = `${url}totalParticipant=${numberOfParticipants}&interventionCosts=${totalCostOfIntervention}&populationType=${organisationType}&interventionType=${interventionType}&email=${email}&effectSize=${effectSize}&organisationType=${organisationType}&projectName=${projectName}&organisationName=${organisationName}`;
        console.log(request)
        fetch(request, {
          method: "POST"
        });
      }
      function nextPrev(e) {
        if (e == -1 && currentTab == 0) {
          window.parent.location.href = "https://ensomhedital.webflow.io/";
        }
        var t = document.getElementsByClassName("form-tab");
        if (1 == e && !validateForm())
          return alert("du skal udfylde alle felter"), !1;
        (t[currentTab].style.display = "none"),
          (currentTab += e),
          currentTab >= t.length &&
            ((document.getElementById("all-steps").style.display = "none"),
            (document.getElementById("buttons").style.display = "none"),
            (document.getElementById("prevBtn").style.display = "none"),
            (document.getElementById("message").style.display = "flex"),
            (document.getElementById("message").style.flexDirection = "column"),
            submit(document.forms)),
          currentTab == 2
            ? document.getElementById("idkBtn").classList.remove("hidden")
            : document.getElementById("idkBtn").classList.add("hidden");
        currentTab == 3
          ? (document.getElementById("all-steps").style.display = "none")
          : (document.getElementById("all-steps").style.display = "flex");
        if (currentTab < t.length) showTab(currentTab);
      }
      function validateForm() {
        var e,
          t,
          n,
          a = !0;
        if (currentTab >= 3) return !0;
        for (
          n = 0,
            t = (e = document.getElementsByClassName("form-tab"))[
              currentTab
            ].getElementsByTagName("input");
          n < t.length;
          n++
        )
          "" == t[n].value && ((t[n].className += " invalid"), (a = !1));
        return a;
      }
      function fixStepIndicator(e) {
        var t,
          n = document.getElementsByClassName("index");
        if (e < 3) {
          for (t = 0; t < n.length; t++)
            n[t].className = n[t].className.replace(" active", "");
          n[e].className += " active";
        }
      }
      document.addEventListener("DOMContentLoaded", function (e) {
        showTab(currentTab);
      });
      document.addEventListener("submit", function (e) {
        e.preventDefault();
        document.getElementById("form-page").classList.add("hidden");
        document.getElementById("message").classList.remove("hidden");
      });
    </script>
    <script>
      document.getElementById("goback").addEventListener("click", function (e) {
        window.parent.location.href = "https://ensomhedital.webflow.io/";
      });
    </script>
  </body>
</html>
